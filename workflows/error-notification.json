{
  "name": "Error Notification - Hiba Ã‰rtesÃ­tÃ©s",
  "nodes": [
    {
      "parameters": {
        "path": "error-notification",
        "options": {}
      },
      "id": "webhook-trigger",
      "name": "Webhook Trigger",
      "type": "n8n-nodes-base.webhook",
      "typeVersion": 2,
      "position": [250, 300],
      "webhookId": ""
    },
    {
      "parameters": {
        "jsCode": "// ğŸ”” Hiba Ã¼zenet formÃ¡zÃ¡s magyarul\n// Ez a node a bejÃ¶vÅ‘ hiba adatokat formÃ¡zza\n\nconst inputData = $input.first()?.json || {};\n\n// Hiba rÃ©szletek kibontÃ¡sa\nconst workflowNev = inputData.workflow || inputData.workflowName || 'Ismeretlen workflow';\nconst hibaUzenet = inputData.error?.message || inputData.errorMessage || inputData.uzenet || 'Nincs rÃ©szlet';\nconst hibaIdopont = inputData.datum || inputData.timestamp || new Date().toLocaleString('hu-HU');\nconst hibaNode = inputData.node || inputData.nodeName || 'Ismeretlen node';\nconst executionId = inputData.executionId || 'N/A';\n\n// Hiba tÃ­pus meghatÃ¡rozÃ¡sa\nlet hibaTipus = 'ÃltalÃ¡nos hiba';\nlet javasoltMegoldas = '';\n\nif (hibaUzenet.toLowerCase().includes('credential') || hibaUzenet.toLowerCase().includes('oauth') || hibaUzenet.toLowerCase().includes('token')) {\n  hibaTipus = 'ğŸ”‘ OAuth / HitelesÃ­tÃ©si hiba';\n  javasoltMegoldas = `\n  ğŸ“Œ Javasolt megoldÃ¡s:\n  1. Menj az n8n â†’ Credentials menÃ¼be\n  2. Keresd meg a hibÃ¡s credential-t (Gmail vagy Google Sheets)\n  3. Klikk rÃ¡ Ã©s vÃ¡laszd: \"Reauthorize\" vagy \"Reconnect\"\n  4. Jelentkezz be Ãºjra a Google fiÃ³kodba\n  5. Hagyd jÃ³vÃ¡ az engedÃ©lyeket\n  `;\n} else if (hibaUzenet.toLowerCase().includes('column') || hibaUzenet.toLowerCase().includes('field')) {\n  hibaTipus = 'ğŸ“‹ Sheet / Oszlop hiba';\n  javasoltMegoldas = `\n  ğŸ“Œ Javasolt megoldÃ¡s:\n  1. Nyisd meg a Google Sheet-et\n  2. EllenÅ‘rizd az oszlopneveket (ID, NÃ©v, Email, TÃ­pus, KÃ¼ldve, VÃ¡lasz, MegjegyzÃ©s)\n  3. GyÅ‘zÅ‘dj meg rÃ³la, hogy nincs felesleges szÃ³kÃ¶z az oszlopnevekben\n  4. Ha Ã¡tnevezted az oszlopokat, frissÃ­tsd a workflow-t is\n  `;\n} else if (hibaUzenet.toLowerCase().includes('rate') || hibaUzenet.toLowerCase().includes('limit') || hibaUzenet.toLowerCase().includes('quota')) {\n  hibaTipus = 'âš ï¸ Limit tÃºllÃ©pÃ©s';\n  javasoltMegoldas = `\n  ğŸ“Œ Javasolt megoldÃ¡s:\n  1. Gmail szemÃ©lyes fiÃ³k limit: 500 email/nap\n  2. VÃ¡rj 24 Ã³rÃ¡t a limit resetelÃ©sÃ©re\n  3. Vagy hasznÃ¡lj Google Workspace fiÃ³kot (2000 email/nap limit)\n  4. CsÃ¶kkentsd az egy futÃ¡sban kÃ¼ldÃ¶tt emailek szÃ¡mÃ¡t\n  `;\n} else if (hibaUzenet.toLowerCase().includes('permission') || hibaUzenet.toLowerCase().includes('access')) {\n  hibaTipus = 'ğŸš« HozzÃ¡fÃ©rÃ©si hiba';\n  javasoltMegoldas = `\n  ğŸ“Œ Javasolt megoldÃ¡s:\n  1. EllenÅ‘rizd a Google Sheet hozzÃ¡fÃ©rÃ©si jogokat\n  2. GyÅ‘zÅ‘dj meg rÃ³la, hogy a fiÃ³knak van szerkesztÃ©si joga\n  3. PrÃ³bÃ¡ld meg Ãºjra-engedÃ©lyezni a Google Sheets credential-t\n  `;\n}\n\n// FormÃ¡zott hiba email Ã¶sszeÃ¡llÃ­tÃ¡sa\nconst formattedMessage = `\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nâš ï¸  n8n WORKFLOW HIBA Ã‰RTESÃTÃ‰S\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n\nğŸ”´ HIBA TÃPUS: ${hibaTipus}\n\nğŸ“‹ RÃ‰SZLETEK:\n  â€¢ Workflow: ${workflowNev}\n  â€¢ Node: ${hibaNode}\n  â€¢ IdÅ‘pont: ${hibaIdopont}\n  â€¢ Execution ID: ${executionId}\n\nğŸ’¬ HIBA ÃœZENET:\n${hibaUzenet}\n\n${javasoltMegoldas}\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ”§ MIT TEHETSZ:\n\n1. NÃ©zd meg az n8n Executions tÃ¶rtÃ©netet\n2. Klikkelj rÃ¡ a hibÃ¡s vÃ©grehajtÃ¡sra\n3. EllenÅ‘rizd melyik node-nÃ¡l Ã¡llt le\n4. Olvasd el a hibaÃ¼zenetet\n5. KÃ¶vesd a fenti javasolt megoldÃ¡st\n\nğŸ“§ Ha nem tudod megoldani:\n  â€¢ KÃ©szÃ­ts screenshot-ot az n8n execution log-rÃ³l\n  â€¢ KÃ¼ld el emailben a support rÃ©szÃ©re\n\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\nğŸ¤– Ez egy automatikus Ã©rtesÃ­tÃ©s az n8n workflow rendszerbÅ‘l.\nâ”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”\n`;\n\nreturn [{\n  json: {\n    subject: `âš ï¸ n8n Hiba: ${workflowNev} - ${hibaTipus}`,\n    message: formattedMessage,\n    workflowNev: workflowNev,\n    hibaTipus: hibaTipus,\n    hibaIdopont: hibaIdopont,\n    originalError: inputData\n  }\n}];"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [450, 300],
      "id": "format-error-message",
      "name": "Format Error Message HU"
    },
    {
      "parameters": {
        "sendTo": "czunidaniel9@gmail.com",
        "subject": "={{ $json.subject }}",
        "message": "={{ $json.message }}",
        "options": {}
      },
      "id": "send-alert-email",
      "name": "Send Alert to Dani",
      "type": "n8n-nodes-base.gmail",
      "typeVersion": 2,
      "position": [650, 300],
      "credentials": {
        "gmailOAuth2": {
          "id": "",
          "name": "Personal Gmail"
        }
      },
      "notes": "âš ï¸ FONTOS: ÃllÃ­tsd be a sajÃ¡t (szemÃ©lyes) Gmail credential-edet!"
    },
    {
      "parameters": {
        "operation": "append",
        "documentId": {
          "__rl": true,
          "value": "",
          "mode": "url"
        },
        "sheetName": {
          "__rl": true,
          "value": "gid=0",
          "mode": "list"
        },
        "columns": {
          "mappingMode": "defineBelow",
          "value": {
            "Datum": "={{ $json.hibaIdopont }}",
            "Workflow": "={{ $json.workflowNev }}",
            "Hiba_Tipus": "={{ $json.hibaTipus }}",
            "Uzenet": "={{ $json.originalError.error?.message || 'N/A' }}"
          },
          "schema": [
            {
              "id": "Datum",
              "displayName": "Datum",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": false
            },
            {
              "id": "Workflow",
              "displayName": "Workflow",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": false
            },
            {
              "id": "Hiba_Tipus",
              "displayName": "Hiba_Tipus",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": false
            },
            {
              "id": "Uzenet",
              "displayName": "Uzenet",
              "required": false,
              "defaultMatch": false,
              "display": true,
              "type": "string",
              "canBeUsedToMatch": false
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.googleSheets",
      "typeVersion": 4.7,
      "position": [850, 300],
      "id": "log-to-sheet",
      "name": "Log Error to Sheet (Optional)",
      "credentials": {
        "googleSheetsOAuth2Api": {
          "id": "",
          "name": "Google Sheets account"
        }
      },
      "notes": "OPCIONÃLIS: Ha szeretnÃ©d naplÃ³zni a hibÃ¡kat egy Sheet-ben, Ã¡llÃ­tsd be a Sheet URL-t. Ha nem kell, tÃ¶rÃ¶lheted ezt a node-ot.",
      "disabled": true
    }
  ],
  "connections": {
    "Webhook Trigger": {
      "main": [
        [
          {
            "node": "Format Error Message HU",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Format Error Message HU": {
      "main": [
        [
          {
            "node": "Send Alert to Dani",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Send Alert to Dani": {
      "main": [
        [
          {
            "node": "Log Error to Sheet (Optional)",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1",
    "timezone": "Europe/Budapest"
  },
  "versionId": "",
  "meta": {
    "templateCredsSetupCompleted": false
  },
  "id": "",
  "tags": []
}
